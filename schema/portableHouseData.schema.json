{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Portable House Data",
    "type": "object",
    "required": ["metaData", "inputs"],
    "properties": {
        "metaData": {
            "type": "object",
            "required": ["client", "request", "serviceProvider"],
            "properties": {
                "client": {
                    "type": "object",
                    "properties": {
                        "clientFirstName": { "type": "string" },
                        "clientLastName": { "type": "string" },
                        "clientEmail": { "type": "string", "format": "email" },
                        "clientId": { "type": "string" },
                        "clientRequestInfo": { "type": "string" }
                    }
                },
                "request": {
                    "type": "object",
                    "required": ["requestId", "requestTimeStamp"],
                    "properties": {
                        "requestId": { "type": "string" },
                        "requestTimeStamp": { "type": "string", "format": "date-time" }
                    }
                },
                "serviceProvider": {
                    "type": "object",
                    "required": ["providerName", "providerId"],
                    "properties": {
                        "providerName": { "type": "string" },
                        "providerId": { "type": "string" }
                    }
                }
            }
        },
        "inputs": {
            "type": "object",
            "required": ["buildingInfo", "buildingSite", "enclosure", "systems"],
            "properties": {
                "buildingInfo": {
                    "type": "object",
                    "required": ["specifications"],
                    "properties": {
                        "specifications": {
                            "type": "object",
                            "required": ["yearBuilt", "totalConditionedFloorArea"],
                            "properties": {
                                "yearBuilt": {
                                    "type": "integer",
                                    "description": "Year built of dwelling unit"
                                },
                                "planShape": {
                                    "type": "string",
                                    "description": "Shape of home; includes number of corners (aligned with ERS definitions)",
                                    "default": "rectangular",
                                    "enum": [
                                        "rectangular",
                                        "t-shape",
                                        "l-shape",
                                        "5-6 corners",
                                        "7-8 corners",
                                        "9-10 corners",
                                        "11 or more corners"
                                    ]
                                },
                                "buildingType": {
                                    "type": "string",
                                    "description": "Type of dwelling",
                                    "default": "detached",
                                    "enum": [
                                        "detached",
                                        "attached",
                                        "row-middle",
                                        "row-end",
                                        "murb unit",
                                        "murb building"
                                    ]
                                },
                                "facingDirection": {
                                    "type": "string",
                                    "description": "Front-facing direction of building",
                                    "enum": ["N", "NE", "E", "SE", "S", "SW", "W", "NW"],
                                    "default": "S"
                                },
                                "numConditionedFloors": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "description": "Total number of storeys, including basement if applicable"
                                },
                                "numConditionedFloorsAboveGrade": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Total number of above-grade storeys",
                                    "default": 1
                                },
                                "layoutType": {
                                    "type": "string",
                                    "description": "Layout of storeys; indicates presence of split levels",
                                    "enum": ["standard", "split"],
                                    "default": "standard"
                                },
                                "totalConditionedFloorArea": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 600,
                                    "description": "Total conditioned floor area of the building (m²)"
                                }
                            }
                        }
                    }
                },
                "buildingSite": {
                    "type": "object",
                    "required": ["location"],
                    "properties": {
                        "location": {
                            "type": "object",
                            "description": "Location details including address, postal code, region, and geolocation coordinates.",
                            "anyOf": [
                                {
                                    "required": ["addressCivicNumber", "addressStreetName"]
                                },
                                {
                                    "required": ["address"]
                                },
                                {
                                    "required": ["postalCode"]
                                },
                                {
                                    "required": ["city", "region"]
                                },
                                {
                                    "required": ["latitude", "longitude"]
                                }
                            ],
                            "properties": {
                                "address": {
                                    "type": "string",
                                    "description": "Full street address, e.g., '123 Fake Street'."
                                },
                                "addressCivicNumber": {
                                    "type": "string",
                                    "description": "Civic number of the address, e.g., '123' or '2A'."
                                },
                                "addressStreetName": {
                                    "type": "string",
                                    "description": "Street name, e.g., 'Fake Street'."
                                },
                                "addressUnitNumber": {
                                    "type": "string",
                                    "description": "Unit or apartment number, if applicable."
                                },
                                "postalCode": {
                                    "type": "string",
                                    "pattern": "^(?:[A-Za-z]d[A-Za-z][ -]?d[A-Za-z]d|[A-Za-z]d[A-Za-z])$",
                                    "description": "Building's postal code or forward sortation area (FSA). Accepts either full code or first 3 characters."
                                },
                                "city": {
                                    "type": "string",
                                    "description": "City, town, or village name."
                                },
                                "region": {
                                    "type": "string",
                                    "description": "Province, territory, or state abbreviation (e.g., 'ON', 'QC', 'YT')."
                                },
                                "country": {
                                    "type": "string",
                                    "default": "CANADA",
                                    "description": "Country name (default: CANADA)."
                                },
                                "latitude": {
                                    "type": "number",
                                    "minimum": -90,
                                    "maximum": 90,
                                    "description": "Latitude coordinate in WGS84 format."
                                },
                                "longitude": {
                                    "type": "number",
                                    "minimum": -180,
                                    "maximum": 180,
                                    "description": "Longitude coordinate in WGS84 format."
                                }
                            }
                        }
                    }
                },
                "enclosure": {
                    "type": "object",
                    "properties": {
                        "airInfiltration": {
                            "type": "object",
                            "description": "Air leakage characteristics at 50 Pa (ACH50).",
                            "properties": {
                                "airLeakageRate": {
                                    "type": "number",
                                    "description": "Air leakage of dwelling at 50 Pa (ACH50). Defaults handled by implementation guidance if not provided.",
                                    "minimum": 0
                                },
                                "airLeakageRateAssumed": {
                                    "type": "boolean",
                                    "description": "Whether the provided air leakage value is assumed (true) or measured (false)."
                                }
                            }
                        },
                        "foundation": {
                            "type": "object",
                            "description": "Details on the building's foundation characteristics.",
                            "required": ["foundationType"],
                            "properties": {
                                "foundationType": {
                                    "type": "string",
                                    "enum": ["basement", "crawlspace", "slab-on-grade", "walkout", "piers"],
                                    "description": "Type of foundation. The 'crawlspace' type represents enclosed crawlspaces, while 'piers' includes vented crawlspaces."
                                },
                                "foundationPerimeter": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation exposed perimeter (m)."
                                },
                                "foundationFloorArea": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation floor area (m²)."
                                },
                                "foundationWallHeight": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation total wall height (slab to ceiling, in meters)."
                                },
                                "foundationWallDepth": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation wall depth (slab to grade, in meters)."
                                },
                                "foundationWallInsulation": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation wall effective insulation value (RSI)."
                                },
                                "foundationSlabInsulation": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Foundation slab effective insulation value (RSI)."
                                }
                            }
                        },
                        "walls": {
                            "type": "object",
                            "description": "Above-grade wall characteristics.",
                            "properties": {
                                "wallTotalArea": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Total surface area of above-grade walls (m²)."
                                },
                                "wallInsulation": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Effective insulation value within above-grade walls (RSI)."
                                }
                            }
                        },
                        "atticCeilings": {
                            "type": "object",
                            "description": "Ceiling characteristics for spaces with an attic. When not provided, a ceiling with an attic is assumed by default.",
                            "properties": {
                                "ceilingArea": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Surface area of ceiling (m²)."
                                },
                                "ceilingInsulation": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Effective insulation value within attic (RSI)."
                                }
                            }
                        },
                        "flatCeilings": {
                            "type": "object",
                            "description": "Flat ceiling characteristics",
                            "properties": {
                                "ceilingArea": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Surface area of ceiling (m²)."
                                },
                                "ceilingInsulation": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Effective insulation value within attic (RSI)."
                                }
                            }
                        },
                        "cathedralCeilings": {
                            "type": "object",
                            "description": "Cathedral ceiling characteristics.",
                            "properties": {
                                "ceilingArea": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Surface area of ceiling (m²)."
                                },
                                "ceilingInsulation": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Effective insulation value within attic (RSI)."
                                }
                            }
                        },
                        "exposedFloors": {
                            "type": "object",
                            "description": "Characteristics of exposed floors, such as those above garages or porches.",
                            "properties": {
                                "exposedFloorAdjacentConditionedSpace": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Indicates if the underside of the exposed floor is above a conditioned space, such as an enclosed garage."
                                },
                                "exposedFloorArea": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Horizontal surface area of the exposed floor (m²)."
                                },
                                "exposedFloorInsulation": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Effective insulation value of the exposed floor (RSI)."
                                }
                            }
                        },
                        "windows": {
                            "type": "object",
                            "description": "Details on window characteristics, including geometry, materials, and performance values.",
                            "properties": {
                                "numWindows": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "description": "Total window count."
                                },
                                "windowArea": {
                                    "type": "object",
                                    "description": "Total and directional window areas (m²).",
                                    "properties": {
                                        "total": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area for the entire building (m²)."
                                        },
                                        "south": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the south face (m²)."
                                        },
                                        "southeast": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the southeast face (m²)."
                                        },
                                        "east": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the east face (m²)."
                                        },
                                        "northeast": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the northeast face (m²)."
                                        },
                                        "north": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the north face (m²)."
                                        },
                                        "northwest": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the northwest face (m²)."
                                        },
                                        "west": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the west face (m²)."
                                        },
                                        "southwest": {
                                            "type": "number",
                                            "minimum": 0.000001,
                                            "description": "Total window area on the southwest face (m²)."
                                        }
                                    }
                                },
                                "glassLayerType": {
                                    "type": "string",
                                    "enum": ["single-pane", "double-pane", "triple-pane", "glass block"],
                                    "description": "Description of the glass layers of the window."
                                },
                                "frameType": {
                                    "type": "string",
                                    "enum": ["aluminum", "fiberglass", "metal", "vinyl", "wood"],
                                    "description": "Type of window frame material."
                                },
                                "coatingType": {
                                    "type": "string",
                                    "enum": [
                                        "clear",
                                        "low-e",
                                        "low-e, high-solar-gain",
                                        "low-e, low-solar-gain",
                                        "tinted",
                                        "tinted/reflective",
                                        "reflective"
                                    ],
                                    "description": "Type of window coating."
                                },
                                "fillGasType": {
                                    "type": "string",
                                    "enum": ["air", "argon", "krypton", "other"],
                                    "description": "Type of gas between panes. Ignored for single-pane windows."
                                },
                                "overallUValue": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Full-assembly U-factor of the window (W/m²·K)."
                                },
                                "shgc": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "description": "Full-assembly solar heat gain coefficient of the window (fraction)."
                                },
                                "fractionOperable": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "default": 0,
                                    "description": "Area fraction of windows that are operable (total operable area / total window area)."
                                }
                            }
                        },
                        "doors": {
                            "type": "object",
                            "description": "Door counts and thermal performance.",
                            "properties": {
                                "numDoors": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "description": "Total door count."
                                },
                                "numPatioDoors": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Total patio door count."
                                },
                                "doorUValue": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Full-assembly U-factor for standard doors (W/m²·K)."
                                },
                                "patioDoorUValue": {
                                    "type": "number",
                                    "minimum": 0.000001,
                                    "description": "Full-assembly U-factor for patio doors (W/m²·K)."
                                }
                            }
                        }
                    }
                },
                "systems": {
                    "type": "object",
                    "description": "The building's heating, cooling, hot water, ventilation, transportation, and distributed energy resource systems",
                    "properties": {
                        "primaryHeating": {
                            "type": "object",
                            "description": "Primary (or auxiliary/back-up for heat pumps) space-heating system.",
                            "required": ["fuelType"],
                            "properties": {
                                "equipmentType": {
                                    "type": "string",
                                    "enum": [
                                        "furnace",
                                        "boiler",
                                        "electric resistance",
                                        "wood stove",
                                        "fireplace",
                                        "combination boiler"
                                    ],
                                    "description": "Type of primary heating equipment."
                                },
                                "equipmentSubType": {
                                    "type": "string",
                                    "description": "Subtype of the heating equipment (ignored for some types)."
                                },
                                "fuelType": {
                                    "type": "string",
                                    "enum": ["electricity", "natural gas", "propane", "oil", "wood", "wood pellets"],
                                    "description": "Fuel used by the heating system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100,
                                    "description": "Heating efficiency in percent (%)."
                                },
                                "capacity": {
                                    "type": "number",
                                    "description": "Rated heating capacity. If no units are provided, assume kW."
                                },
                                "capacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for heating capacity."
                                }
                            },
                            "allOf": [
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "furnace" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["condensing", "non-condensing"] },
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "boiler" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["condensing", "non-condensing"] },
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "electric resistance" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["electricity"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "wood stove" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["wood", "wood pellets"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "fireplace" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["wood", "wood pellets"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "combination boiler" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["storage tank", "tankless"] },
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                }
                            ]
                        },
                        "secondaryHeating": {
                            "type": "object",
                            "description": "This section should only be used if information about the primary heating system is provided. It should not be used to model an auxiliary or backup system for a heat pump.",
                            "required": ["fuelType"],
                            "properties": {
                                "equipmentType": {
                                    "type": "string",
                                    "enum": [
                                        "furnace",
                                        "boiler",
                                        "electric resistance",
                                        "wood stove",
                                        "fireplace",
                                        "combination boiler"
                                    ],
                                    "description": "Type of primary heating equipment."
                                },
                                "equipmentSubType": {
                                    "type": "string",
                                    "description": "Subtype of the heating equipment (ignored for some types)."
                                },
                                "fuelType": {
                                    "type": "string",
                                    "enum": ["electricity", "natural gas", "propane", "oil", "wood", "wood pellets"],
                                    "description": "Fuel used by the heating system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100,
                                    "description": "Heating efficiency in percent (%)."
                                },
                                "capacity": {
                                    "type": "number",
                                    "description": "Rated heating capacity. If no units are provided, assume kW."
                                },
                                "capacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for heating capacity."
                                },
                                "heatedFloorArea": {
                                    "type": "number",
                                    "description": "Heated floor area for the secondary heating system."
                                }
                            },
                            "allOf": [
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "furnace" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["condensing", "non-condensing"] },
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "boiler" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["condensing", "non-condensing"] },
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "electric resistance" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["electricity"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "wood stove" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["wood", "wood pellets"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "fireplace" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["wood", "wood pellets"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "equipmentType": { "const": "combination boiler" } },
                                        "required": ["equipmentType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "equipmentSubType": { "enum": ["storage tank", "tankless"] },
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                }
                            ],
                            "oneOf": [{ "required": ["capacity"] }, { "required": ["heatedFloorArea"] }]
                        },
                        "permanentCooling": {
                            "type": "object",
                            "description": "Permanent space-cooling system details.",
                            "properties": {
                                "equipmentType": {
                                    "type": "string",
                                    "enum": ["central", "mini-split"],
                                    "description": "Type of permanent cooling system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cooling efficiency value. If no units are provided, SEER is assumed."
                                },
                                "efficiencyUnits": {
                                    "type": "string",
                                    "enum": ["COP", "SEER", "SEER2"],
                                    "default": "SEER",
                                    "description": "Units for the provided cooling efficiency."
                                },
                                "capacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated cooling capacity. If no units are provided, kW is assumed."
                                },
                                "capacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for rated cooling capacity."
                                },
                                "manufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the cooling system."
                                },
                                "modelNumber": {
                                    "type": "string",
                                    "description": "Model number of the cooling system."
                                },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of the cooling system in years."
                                },
                                "cooledFloorArea": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cooled floor area (m²), used if the system does not service the entire dwelling."
                                },
                                "installed": {
                                    "type": "boolean",
                                    "description": "Set to true to indicate the presence of a permanent cooling system without specifying other parameters."
                                }
                            }
                        },
                        "temporaryCooling": {
                            "type": "object",
                            "description": "Temporary space-cooling system details.",
                            "properties": {
                                "equipmentType": {
                                    "type": "string",
                                    "enum": ["window", "floor"],
                                    "description": "Type of temporary cooling system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cooling efficiency value. If no units are provided, SEER is assumed."
                                },
                                "efficiencyUnits": {
                                    "type": "string",
                                    "enum": ["COP", "SEER", "SEER2"],
                                    "default": "SEER",
                                    "description": "Units for the provided cooling efficiency."
                                },
                                "capacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated cooling capacity. If no units are provided, kW is assumed."
                                },
                                "capacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for rated cooling capacity."
                                },
                                "manufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the cooling system."
                                },
                                "modelNumber": {
                                    "type": "string",
                                    "description": "Model number of the cooling system."
                                },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of the cooling system in years."
                                },
                                "cooledFloorArea": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cooled floor area (m²), used if the system does not service the entire dwelling."
                                },
                                "installed": {
                                    "type": "boolean",
                                    "description": "Set to true to indicate the presence of a temporary cooling system without specifying other parameters."
                                }
                            }
                        },
                        "heatPump": {
                            "type": "object",
                            "description": "Heat pump system details, including type, distribution, performance ratings, and nameplate info.",
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "enum": ["air-to-air", "air-to-water", "ground-to-air", "water-to-air"],
                                    "description": "Heat pump type by source/sink."
                                },
                                "distributionType": {
                                    "type": "string",
                                    "enum": ["central", "mini-split", "multi-split"],
                                    "description": "Distribution system used by the heat pump."
                                },
                                "numberOfHeads": {
                                    "type": "integer",
                                    "minimum": 1,
                                    "description": "Number of indoor heads (for mini-split and multi-split systems)."
                                },
                                "fuelType": {
                                    "type": "string",
                                    "enum": ["electricity", "natural gas"],
                                    "default": "electricity",
                                    "description": "Fuel used by the heat pump (non-electric generally not supported)."
                                },
                                "ratedHeatingEfficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated heating efficiency (typically at ~8.33°C / 47°F)."
                                },
                                "ratedHeatingEfficiencyUnits": {
                                    "type": "string",
                                    "enum": ["COP", "HSPF", "HSPF2"],
                                    "default": "COP",
                                    "description": "Units for heating efficiency."
                                },
                                "ratedHeatingCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated heating capacity (typically at ~8.33°C / 47°F)."
                                },
                                "ratedHeatingCapacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for heating capacity."
                                },
                                "coldClimateHeatingEfficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cold Climate heating efficiency (typically at -15°C / 5°F)."
                                },
                                "coldClimateHeatingEfficiencyUnits": {
                                    "type": "string",
                                    "enum": ["COP", "HSPF", "HSPF2"],
                                    "default": "COP",
                                    "description": "Units for heating efficiency."
                                },
                                "coldClimateHeatingCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Cold Climate heating capacity (typically at -15°C / 5°F)."
                                },
                                "coldClimateHeatingCapacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for heating capacity."
                                },
                                "usedForCooling": {
                                    "type": "boolean"
                                },
                                "ratedCoolingEfficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated cooling efficiency (typically at ~35°C / 95°F)."
                                },
                                "ratedCoolingEfficiencyUnits": {
                                    "type": "string",
                                    "enum": ["COP", "SEER", "SEER2", "EER"],
                                    "default": "SEER",
                                    "description": "Units for cooling efficiency."
                                },
                                "ratedCoolingCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Rated cooling capacity (typically at ~35°C / 95°F)."
                                },
                                "ratedCoolingCapacityUnits": {
                                    "type": "string",
                                    "enum": ["kW", "BTU/h"],
                                    "default": "kW",
                                    "description": "Units for cooling capacity."
                                },
                                "ratedCoolingTemp": {
                                    "type": "number",
                                    "exclusiveMinimum": 15,
                                    "default": 35,
                                    "description": "Cooling test temperature in °C used for rating."
                                },
                                "switchoverTemperature": {
                                    "type": "number",
                                    "exclusiveMinimum": -50,
                                    "description": "Outdoor temperature (°C) at/above which the heat pump is configured to run."
                                },
                                "manufacturerName": { "type": "string" },
                                "modelNameNumber": { "type": "string" },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of equipment in years."
                                }
                            }
                        },
                        "primaryHotWater": {
                            "type": "object",
                            "description": "Primary DHW system details.",
                            "required": ["fuelType"],
                            "properties": {
                                "tankType": {
                                    "type": "string",
                                    "enum": ["storage tank", "tankless", "heat pump", "combination boiler"],
                                    "description": "Type of DHW system."
                                },
                                "equipmentSubType": {
                                    "type": "string",
                                    "enum": ["condensing", "non-condensing"],
                                    "description": "Subtype for combustion/electric tank or tankless systems (ignored for heat pump and combination boiler)."
                                },
                                "fuelType": {
                                    "type": "string",
                                    "description": "Fuel used by the DHW system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Water heater efficiency (EF)."
                                },
                                "tankCapacity": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Tank volume in litres (L)."
                                },
                                "tankSetpoint": {
                                    "type": "number",
                                    "exclusiveMinimum": 20,
                                    "description": "Tank temperature setpoint (°C)."
                                },
                                "fractionOfTank": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "description": "Fraction of tank when applicable."
                                },
                                "manufacturerName": { "type": "string" },
                                "modelNumber": { "type": "string" },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of equipment in years."
                                }
                            },
                            "allOf": [
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "storage tank" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets",
                                                    "solar"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "tankless" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "heat pump" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["electricity"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "combination boiler" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                }
                            ]
                        },
                        "secondaryHotWater": {
                            "type": "object",
                            "description": "Secondary DHW system details.",
                            "required": ["fuelType"],
                            "properties": {
                                "tankType": {
                                    "type": "string",
                                    "enum": ["storage tank", "tankless", "heat pump", "combination boiler"],
                                    "description": "Type of DHW system."
                                },
                                "equipmentSubType": {
                                    "type": "string",
                                    "enum": ["condensing", "non-condensing"],
                                    "description": "Subtype for combustion/electric tank or tankless systems (ignored for heat pump and combination boiler)."
                                },
                                "fuelType": {
                                    "type": "string",
                                    "description": "Fuel used by the DHW system."
                                },
                                "efficiency": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Water heater efficiency (EF)."
                                },
                                "tankCapacity": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Tank volume in litres (L)."
                                },
                                "tankSetpoint": {
                                    "type": "number",
                                    "exclusiveMinimum": 20,
                                    "description": "Tank temperature setpoint (°C)."
                                },
                                "fractionOfTank": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "description": "Fraction of tank when applicable."
                                },
                                "manufacturerName": { "type": "string" },
                                "modelNumber": { "type": "string" },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of equipment in years."
                                }
                            },
                            "allOf": [
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "storage tank" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": {
                                                "enum": [
                                                    "electricity",
                                                    "natural gas",
                                                    "propane",
                                                    "oil",
                                                    "wood",
                                                    "wood pellets",
                                                    "solar"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "tankless" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "heat pump" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["electricity"] }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": { "tankType": { "const": "combination boiler" } },
                                        "required": ["tankType"]
                                    },
                                    "then": {
                                        "properties": {
                                            "fuelType": { "enum": ["natural gas", "propane", "oil"] }
                                        }
                                    }
                                }
                            ]
                        },
                        "ventilation": {
                            "type": "object",
                            "description": "Mechanical ventilation devices and any heat/energy recovery ventilator (HRV/ERV).",
                            "properties": {
                                "bathroomFanCount": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Number of bathroom fans in the dwelling."
                                },
                                "rangeHoodFanCount": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Number of range hood fans in the dwelling."
                                },
                                "otherFanCount": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Number of other ventilation fans in the dwelling."
                                },
                                "recoveryVentilatorType": {
                                    "type": "string",
                                    "enum": ["none", "hrv", "erv"],
                                    "description": "Type of recovery ventilator."
                                },
                                "recoveryVentilatorEfficiency": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100,
                                    "description": "Heating efficiency (SRE) of the HRV/ERV, in percent."
                                },
                                "recoveryVentilatorManufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the HRV/ERV."
                                },
                                "recoveryVentilatorModelNumber": {
                                    "type": "string",
                                    "description": "Model name/number of the HRV/ERV."
                                },
                                "ageOfRecoveryVentilator": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of the HRV/ERV in years."
                                }
                            }
                        },
                        "solarPv": {
                            "type": "object",
                            "description": "PV system characteristics and nameplate details.",
                            "properties": {
                                "mountingLocation": {
                                    "type": "string",
                                    "enum": ["roof", "ground", "garage"],
                                    "description": "Mounting location of the PV system."
                                },
                                "systemOrientation": {
                                    "type": "number",
                                    "description": "Array azimuth in degrees, measured clockwise (Northeast = 45°)."
                                },
                                "systemTiltAngle": {
                                    "type": "number",
                                    "description": "Array tilt in degrees from horizontal."
                                },
                                "systemCapacity": {
                                    "type": "number",
                                    "description": "Nameplate (DC) capacity of the PV system (kW)."
                                },
                                "systemEfficiency": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100,
                                    "description": "Nominal PV system efficiency (%)."
                                },
                                "ageOfEquipment": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Age of the PV system (years)."
                                },
                                "numberOfPanels": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "description": "Number of individual PV panels."
                                },
                                "manufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the PV system."
                                },
                                "modelNumber": {
                                    "type": "string",
                                    "description": "Model name/number of the PV system."
                                }
                            }
                        },
                        "energyStorage": {
                            "type": "object",
                            "description": "Battery energy storage system (BESS) details.",
                            "properties": {
                                "batteryEnergyCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Usable battery energy capacity (kWh)."
                                },
                                "inverterCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Inverter continuous power rating (kW)."
                                },
                                "manufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the energy storage system."
                                },
                                "modelNumber": {
                                    "type": "string",
                                    "description": "Model name/number of the energy storage system."
                                }
                            }
                        },
                        "transportation": {
                            "type": "object",
                            "description": "Indicates presence and details of electric vehicles associated with the dwelling.",
                            "properties": {
                                "electricVehicleCount": {
                                    "type": "integer",
                                    "exclusiveMinimum": 0,
                                    "description": "Number of electric vehicles (count)."
                                },
                                "ageOfVehicle": {
                                    "type": "integer",
                                    "exclusiveMinimum": 0,
                                    "description": "Age of the primary electric vehicle (years)."
                                },
                                "chargerCapacity": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Maximum charging rate for the primary EV (kW)."
                                },
                                "isBidirectional": {
                                    "type": "boolean",
                                    "description": "Whether the EV can provide bidirectional power (e.g., as a backup source for the dwelling)."
                                },
                                "manufacturerName": {
                                    "type": "string",
                                    "description": "Manufacturer name of the primary electric vehicle."
                                },
                                "modelNumber": {
                                    "type": "string",
                                    "description": "Model name/number of the primary electric vehicle."
                                }
                            }
                        }
                    }
                },
                "occupancy": {
                    "type": "object",
                    "description": "Characteristics of the dwelling related to occupant behaviour.",
                    "properties": {
                        "totalOccupantCount": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Total number of occupants in the dwelling (count)."
                        },
                        "occupantCountHomeDuringWeekdays": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Number of occupants typically at home during weekdays (e.g., work-from-home)."
                        },
                        "baseLoads": {
                            "type": "object",
                            "description": "Miscellaneous appliance/plug loads and fuels. Set annual consumption to 0 to indicate absence.",
                            "properties": {
                                "clothesWasherConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of clothes washer (kWh/y)."
                                },
                                "dryerConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of dryer (kWh/y)."
                                },
                                "dishwasherConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of dishwasher (kWh/y)."
                                },
                                "refrigeratorConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of primary refrigerator (kWh/y)."
                                },
                                "freezerConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of secondary freezer (kWh/y)."
                                },
                                "dehumidifierConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of dehumidifier (kWh/y)."
                                },
                                "cookingRangeOvenFuelType": {
                                    "type": "string",
                                    "enum": ["electricity", "natural gas", "propane"],
                                    "description": "Fuel used by the cooking appliance."
                                },
                                "cookingRangeOvenConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of the cooking appliance (kWh/y)."
                                },
                                "interiorLightingConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of interior lighting (kWh/y)."
                                },
                                "exteriorLightingConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of exterior lighting (kWh/y)."
                                },
                                "plugLoadConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Annual electricity use of all plug loads (kWh/y)."
                                },
                                "miscElectricityConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Other annual electricity use not already accounted for (kWh/y)."
                                },
                                "miscNaturalGasConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Other annual natural gas use (m³/y)."
                                },
                                "miscPropaneConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Other annual propane use (L/y)."
                                },
                                "miscOilConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Other annual oil use (L/y)."
                                },
                                "miscWoodConsumption": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Other annual wood use (kg/y)."
                                },
                                "electricalPanelSize": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Electrical panel size (A)."
                                }
                            }
                        },
                        "atypicalLoads": {
                            "type": "object",
                            "description": "Flags for atypical end-uses and conditions.",
                            "properties": {
                                "pool": { "type": "boolean", "description": "Indicates presence of an atypical load." },
                                "poolPump": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "poolHeater": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "deIcingCables": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "extensiveExteriorLighting": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "heatedGarage": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "hotTub": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "mixedUse": {
                                    "type": "boolean",
                                    "description": "Indicates presence of mixed residential/commercial use."
                                },
                                "outdoorGasAppliance": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "swimmingPool": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "commonSpaces": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "elevator": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "fitnessRoom": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                },
                                "snowmeltSystem": {
                                    "type": "boolean",
                                    "description": "Indicates presence of an atypical load."
                                }
                            }
                        },
                        "waterUsage": {
                            "type": "object",
                            "description": "Typical daily hot-water and total water consumption.",
                            "properties": {
                                "dailyHotWaterConsumption": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Daily hot water consumption (L/day)."
                                },
                                "dailyTotalWaterConsumption": {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "description": "Daily total water consumption (L/day)."
                                }
                            }
                        },
                        "temperatureControl": {
                            "type": "object",
                            "description": "Information about the dwelling's thermostat.",
                            "properties": {
                                "hasSmartThermostat": {
                                    "type": "boolean",
                                    "description": "Indicates the presence of a smart thermostat."
                                },
                                "smartThermostatModel": {
                                    "type": "string",
                                    "description": "Make/model of the smart thermostat."
                                },
                                "heatingSetpointDay": {
                                    "type": "number",
                                    "description": "Heating season daytime setpoint (°C)."
                                },
                                "heatingSetpointNight": {
                                    "type": "number",
                                    "description": "Heating season nighttime/setback setpoint (°C)."
                                },
                                "heatingSetbackDuration": {
                                    "type": "number",
                                    "description": "Heating season setback duration (hours)."
                                },
                                "heatingSetbackStartTime": {
                                    "type": "number",
                                    "description": "Heating season setback start time (hours, 24-hour clock)."
                                },
                                "coolingSetpointDay": {
                                    "type": "number",
                                    "description": "Cooling season daytime setpoint (°C)."
                                },
                                "coolingSetpointNight": {
                                    "type": "number",
                                    "description": "Cooling season nighttime/setback setpoint (°C)."
                                },
                                "coolingSetbackDuration": {
                                    "type": "number",
                                    "description": "Cooling season setback duration (hours)."
                                },
                                "coolingSetbackStartTime": {
                                    "type": "number",
                                    "description": "Cooling season setback start time (hours, 24-hour clock)."
                                }
                            }
                        }
                    }
                }
            }
        },
        "outputs": {
            "type": "object",
            "properties": {
                "totalEnergyConsumption": { "type": "number" },
                "totalOperationalEmissions": { "type": "number" },
                "designHeatLoss": { "type": "number" },
                "designHeatLossUnits": { "type": "string", "enum": ["kW", "BTU/h"] },
                "designHeatLossTemp": { "type": "number" },
                "designHeatGain": { "type": "number" },
                "designHeatGainUnits": { "type": "string", "enum": ["kW", "BTU/h"] },
                "designHeatGainTemp": { "type": "number" },
                "heatLossWindows": { "type": "number" },
                "heatLossDoors": { "type": "number" },
                "heatLossAir": { "type": "number" },
                "heatLossFloor": { "type": "number" },
                "heatLossWalls": { "type": "number" },
                "heatLossFoundationWalls": { "type": "number" },
                "heatLossFoundationSlab": { "type": "number" },
                "heatLossCeiling": { "type": "number" },
                "heatLossFoundationTotal": { "type": "number" },
                "totalCoolingEnergy": { "type": "number" },
                "totalHeatingEnergy": { "type": "number" },
                "totalHotWaterEnergy": { "type": "number" },
                "totalBaseloadEnergy": { "type": "number" },
                "totalVentilationEnergy": { "type": "number" },
                "totalElectricalEnergy": { "type": "number" },
                "totalNaturalGasEnergy": { "type": "number" },
                "totalPropaneEnergy": { "type": "number" },
                "totalOilEnergy": { "type": "number" },
                "totalWoodEnergy": { "type": "number" },
                "totalOnSiteGeneration": { "type": "number" }
            }
        }
    }
}
